<div id="editform">
    <div id="formtoolbar" style="background-color: #444">        
    </div>
    <div id="tabstrip">
        <ul>
            <li class="k-state-active">Основное</li>
            <li>Файлы</li>
        </ul>
        <div>
            <div class="editor-row">
                <label for="titleInput" class="editor-label">Наименование</label>
                <div class="editor-container">
                    <input id="titleInput" type="text" class="form-control" data-bind="value: Title"/>
                </div>
            </div>
            <div class="editor-row">
                <label for="priceInput" class="editor-label">Цена</label>
                <div class="editor-container">
                    <input id="priceInput" type="number" class="form-control" data-bind="value: Price"/>
                </div>
            </div>
        </div>

        <div>

        </div>

    </div>
</div>



<script>
    $(function () {
        var $form = $('#editform');
        var parent = $form.parent('[data-role=window]').data('kendoWindow');

        var model = @Html.Raw(Json.Encode(Model));

        var viewModel = new kendo.data.ObservableObject(model);
        kendo.bind($form, viewModel);

        $('#tabstrip').kendoTabStrip();

        $('#formtoolbar').kendoToolBar({
            items:[
            {
                attributes : {"style" : "float : right;"},
                type: "buttonGroup",
                buttons: [ 
                    { type: "button", text: "Сохранить", id: "save", attributes: {"class" : "primary" , "title" : "Сохранить" , "data_popup" : "bottom"}} ]
            }]
        });


        $('#save').on('click', function() {
            var data = JSON.stringify({product: viewModel});

            $.ajax({
                type: "POST",
                url: "@Url.Action("UpdateProduct","Product")",
                data: data,
                dataType: "json",
                contentType: "application/json",
                success: function(result) {
                    if (result.error) {

                    } else {
                        kendo.unbind($form, viewModel);
                        parent.close();
                    }
                }
            });
        });


        $('#cancel').on('click', function() {
            parent.close();
        });

    });
</script>

<style>
    #tabstrip {
        height: 100%;
    }

     #tabstrip h2 {
         font-weight: lighter;
         font-size: 5em;
         line-height: 1;
         padding: 0 0 0 30px;
         margin: 0;
     }

    #tabstrip h2 span {
        background: none;
        padding-left: 5px;
        font-size: .3em;
        vertical-align: top;
    }

    #tabstrip p {
        margin: 0;
        padding: 0;
    }
</style>
